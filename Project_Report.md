# WoodCut 프로젝트 진행 현황 및 가이드

본 문서는 아이린가구 목재 재단 채팅 계산기의 주요 업데이트 사항과 사용 방법을 정리한 리포트입니다.

## 1. 핵심 업데이트 사항

### ⚡ 하이브리드 백엔드 파싱 (GAS)
GPT의 추론 능력과 코드의 정확성을 결합한 하이브리드 방식을 적용했습니다.
- **코드 기반 파싱**: "MDF 400x200 3개"처럼 구조화된 입력은 코드가 즉시 감지하여 100% 정확하게 가공옵션으로 연결합니다.
- **GPT 상담**: "아이 책상에 좋은 나무?", "PVC보드가 뭐에요?" 같은 자유 대화는 GPT가 친절하게 답변합니다.
- **사이즈 검증**: 폭(600mm), 길이(1800mm) 제한을 코드가 선제적으로 체크하여 실수를 방지합니다.

### 🎨 입력 방식 이원화 (UI/UX)
사용자의 의도에 따라 반응 속도를 최적화했습니다.
- **타이핑 (AI 상담)**: 입력창에 직접 쓰는 내용은 GPT가 분석하여 상세히 답변합니다.
- **버튼 클릭 (로컬 처리)**: 사이즈 버튼이나 목재 카드를 누를 때는 AI를 거치지 않고 즉각 화면이 전환됩니다.

### 🛠️ AI 추천 및 연동 버그 수정
- **키워드 간섭 해결**: "목재" 등의 단어 입력 시 AI가 답변하기 전 목록이 뜨던 간섭 현상을 제거했습니다.
- **응답 파싱 교정**: AI의 답변 메시지가 화면에 가려지거나 표기되지 않던 로직 오류를 수정했습니다.
- **가공 자동 유도**: 목재+사이즈+수량이 확정되면 AI가 자동으로 가공 설정 버튼을 띄우도록 개선했습니다.

---

## 2. 주요 기능 상세

| 구분 | 주요 기능 | 설명 |
|---|---|---|
| **AI 상담** | 스마트 추천 | 용도에 맞는 목재 추천 (편백, 멀바우, MDF 등) |
| **자동 견적** | 3D 시뮬레이션 | 입력된 사이즈와 가공 옵션이 실시간 3D 모델로 반영 |
| **주문 관리** | 주문 목록 패널 | 여러 품목을 담아 배송비 포함 최종 견적 확인 가능 |
| **시스템** | 하위 호환성 | 기존 `current-woodcut.html`의 주문 제출 기능 유지 |
| **보고서** | 이미지 저장 | 최종 견적 내역을 PNG 이미지로 다운로드 가능 |

---

## 3. 설치 및 배포 방법 (GAS)

1.  **Code.gs 업데이트**: `Code.gs_updated.txt` 내용을 복사하여 Google Apps Script 에디터에 붙여넣습니다.
2.  **새 배포**: 상단 [배포] -> [새 배포]를 통해 최신 버전으로 업데이트합니다.
3.  **API_URL 확인**: `woodcut.html` 상단의 `API_URL`이 현재 배포된 URL과 일치하는지 확인합니다.

---

## 4. 테스트 체크리스트

1.  **빠른 견적**: 채팅창에 "미송 300x400 3장" 입력 → 즉시 추가가공 버튼이 뜨는지 확인.
2.  **AI 상담**: "욕실에 쓸 건데 방수 되는 나무 있어?" → PVC보드 추천 답변 확인.
3.  **제한 체크**: "800x1000 사이즈 해줘" → "폭은 최대 600mm" 안내 메시지 확인.
4.  **주문 확인**: 물건을 담은 후 "주문하기" → 주문번호 생성 및 스프레드시트 기록 확인.

---

*작성일: 2026-02-13*  
*프로젝트: WoodCut Calculator Integration*
